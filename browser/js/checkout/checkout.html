<div class="main-content">
<div ng-hide='checkedOut'>
    <section class='cart'>
    	<h1>Your Cart :^]</h1>
    	<div class='flex' layout='row'>
    		<md-card ng-repeat="ticket in cart">
    		    <md-card-content>
    		    	<p><a class="md-title" ui-sref="event({id: ticket.eventProduct._id})">{{ ticket.eventProduct.EventType.name }}</a></p>
    				<p>Seat: {{ticket.seat}}</p>
    				<p>Date: {{ticket.eventProduct.date}}</p>
    				<p>Venue: {{ticket.eventProduct.Venue.name}}</p>
    				<p>Seller: {{ticket.seller.firstName}} {{ticket.seller.lastName}}</p>
    				<p>Price: ${{ticket.price}}</p>
    				<button class='btn' ng-click='removeTicket(ticket._id)'>Remove from cart</button>
    		    </md-card-content>
    		</md-card>
        </div>

    	<p>Tickets in cart: {{cart.length}}</p>
    	<p>Total: {{total}}</p>

    </section>

    <h1 align='center'>Checkout</h1>
    <form id="checkout" name="checkoutForm" ng-submit="submitCheckout(checkout)">

        <md-input-container class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" ng-model="checkout.firstName" class="form-control" id="firstName" required>
        </md-input-container>
        <md-input-container class="form-group">
            <label for="lastName">Last Name</label>
            <input type="text" ng-model="checkout.lastName" class="form-control" id="lastName" required>
        </md-input-container>
        <md-input-container class="form-group">
            <label for="email">Email</label>
            <input type="text" ng-model="checkout.email" class="form-control" id="email" required ng-pattern='/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i'>
        </md-input-container>
        <md-input-container class="form-group">
            <label for="Street">Street</label>
            <input type="text" ng-model="checkout.address.street" class="form-control" id="street" required>
        </md-input-container>
        <md-input-container class="form-group">
            <label for="City">City</label>
            <input type="text" ng-model="checkout.address.city" class="form-control" id="city" required>
        </md-input-container>
        <md-input-container class="form-group">
            <label for="State">State</label>
            <input type="text" ng-model="checkout.address.state" class="form-control" id="state" required>
        </md-input-container>
        <md-input-container class="form-group">
            <label for="Zip">Zip</label>
            <input type="text" ng-model="checkout.address.zip" class="form-control" id="zip" required ng-pattern='/^\d{5}$/'>
        </md-input-container>
        <md-input-container class="form-group">
            <label for="creditCard">Credit Card</label>
            <input type="text" ng-model="moneys" class="form-control" id="moneys" required>
        </md-input-container>

        <alert type="danger" ng-show="error">
            {{ error }}
        </alert>

        <md-button type="submit" class="btn btn-default" id='purchase-btn'>Purchase</md-button>
    </form>
</div>

<div ng-show='checkedOut' class='order-success'>
    <h1>Order success!</h1>
    <a ui-sref='home'>Continue shopping</a>
</div>
</div>
